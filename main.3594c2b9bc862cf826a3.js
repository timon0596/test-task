!function(e){function t(t){for(var n,r,a=t[0],c=t[1],l=t[2],u=0,p=[];u<a.length;u++)r=a[u],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&p.push(s[r][0]),s[r]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);for(d&&d(t);p.length;)p.shift()();return i.push.apply(i,l||[]),o()}function o(){for(var e,t=0;t<i.length;t++){for(var o=i[t],n=!0,a=1;a<o.length;a++){var c=o[a];0!==s[c]&&(n=!1)}n&&(i.splice(t--,1),e=r(r.s=o[0]))}return e}var n={},s={0:0},i=[];function r(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=n,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(o,n,function(t){return e[t]}.bind(null,n));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="";var a=window.webpackJsonp=window.webpackJsonp||[],c=a.push.bind(a);a.push=t,a=a.slice();for(var l=0;l<a.length;l++)t(a[l]);var d=c;i.push([135,1]),o()}({134:function(e,t,o){"use strict";var n=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"todo"},[t("div",{staticClass:"todo__description"},[this._v(this._s(this.task.todo))]),t("div",{staticClass:"delete btn",on:{click:this.deletetask}},[this._v("удалить")])])};n._withStripped=!0;var s=o(10);o(99);function i(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function r(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?i(Object(o),!0).forEach((function(t){a(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):i(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function a(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var c={data:function(){return{}},props:["task"],methods:r(r({},Object(s.c)(["newNote_deleteTask"])),{},{deletetask:function(){this.newNote_deleteTask(this.key)}})},l=(o(327),o(17)),d=Object(l.a)(c,n,[],!1,null,"b92d2a1e",null);d.options.__file="app/vue/newTodo.vue";t.a=d.exports},135:function(e,t,o){o(136),e.exports=o(332)},322:function(e,t,o){},323:function(e,t,o){"use strict";var n=o(63);o.n(n).a},324:function(e,t,o){"use strict";var n=o(64);o.n(n).a},325:function(e,t,o){"use strict";var n=o(65);o.n(n).a},326:function(e,t,o){"use strict";var n=o(66);o.n(n).a},327:function(e,t,o){"use strict";var n=o(68);o.n(n).a},328:function(e,t,o){"use strict";var n=o(69);o.n(n).a},332:function(e,t,o){"use strict";o.r(t);var n=o(70),s=o(10),i=o(100),r=(o(322),function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"app"},[t("div",{staticClass:"navbar"},[t("nav",[t("router-link",{staticClass:"link block",attrs:{tag:"div",to:"/"}},[this._v("main")]),t("router-link",{staticClass:"link block",attrs:{tag:"div",to:"/create"}},[this._v("+")])],1)]),t("router-view")],1)});r._withStripped=!0;var a={data:function(){return{}},components:{}},c=(o(323),o(17)),l=Object(c.a)(a,r,[],!1,null,null,null);l.options.__file="app/vue/app.vue";var d=l.exports,u=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"main colored"},[o("div",{staticClass:"note-list"},e._l(e.getNotes,(function(t,n){return o("div",{key:n,staticClass:"note-link"},[o("router-link",{attrs:{to:"/notes/"+n}},[o("note",{attrs:{i:n}})],1),o("div",{staticClass:"delete btn",on:{click:function(t){e.toBeDeleted=n,e.showPopup=!0}}},[e._v("удалить")])],1)})),0),o("div",{directives:[{name:"show",rawName:"v-show",value:e.showPopup,expression:"showPopup"}],staticClass:"pop-up"},[o("div",{staticClass:"pop-up__container"},[e._v("удалить?"),o("div",{staticClass:"pop-up__body"},[o("div",{staticClass:"btn delete",on:{click:function(t){e.deleteNote(e.toBeDeleted),e.$root.$emit("deleted"),e.showPopup=!1}}},[e._v("да")]),o("div",{staticClass:"btn",on:{click:function(t){e.showPopup=!1}}},[e._v("отмена")])])])])])};u._withStripped=!0;var p=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"note block",class:{limitedScale:"main"==e.$route.name}},["main"==e.$route.name?o("div",{staticClass:"block__mask"}):e._e(),o("div",{staticClass:"note__content"},[o("div",{staticClass:"note__header"},[e._v(e._s(e.thisNote.name)),o("input",{directives:[{name:"show",rawName:"v-show",value:e.redacting,expression:"redacting"},{name:"model",rawName:"v-model:value",value:e.thisNote.name,expression:"thisNote.name",arg:"value"}],attrs:{name:"name"},domProps:{value:e.thisNote.name},on:{input:function(t){t.target.composing||e.$set(e.thisNote,"name",t.target.value)}}}),o("div",{directives:[{name:"show",rawName:"v-show",value:e.redacting,expression:"redacting"}],staticClass:"delete delete__name btn",on:{click:function(t){e.thisNote.name=""}}},[e._v("очистить")])]),o("div",{staticClass:"todo__list"},[e._l(e.thisNote.toDos,(function(t,n){return"main"==e.$route.name&&n<2||"note"==e.$route.name?o("todo",{key:n,attrs:{redacting:e.redacting,todo:t,index:n},on:{deletetask:function(t){return e.deleteTask(t)}}}):e._e()})),o("div",{directives:[{name:"show",rawName:"v-show",value:e.redacting,expression:"redacting"}],staticClass:"newTodo"},[o("div",{staticClass:"newTodo__text"},[e._v(e._s(e.newTodo.todo))]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.newTodo.todo,expression:"newTodo.todo"}],domProps:{value:e.newTodo.todo},on:{input:function(t){t.target.composing||e.$set(e.newTodo,"todo",t.target.value)}}}),o("div",{staticClass:"btn newTodo__add",on:{click:e.addNewTodo}},[e._v("добавить задачу")])])],2)]),o("div",{staticClass:"note__options"},[o("div",{directives:[{name:"show",rawName:"v-show",value:"note"==e.$route.name,expression:"$route.name=='note'"}],staticClass:"redact btn",on:{click:e.redact}},[e._v("редактировать")]),o("div",{directives:[{name:"show",rawName:"v-show",value:e.redacting,expression:"redacting"}],staticClass:"show_opt"},[o("div",{staticClass:"save btn",on:{click:e.save}},[e._v("сохранить ")]),o("div",{staticClass:"reverseChanges"},[o("div",{staticClass:"cancel btn",on:{click:e.cancel}},[e._v("отменить")]),o("div",{staticClass:"returnChanges btn",on:{click:e.returnChanges}},[e._v("вернуть изменение")])]),o("div",{staticClass:"delete delete__note btn",on:{click:function(t){e.toBeDeleted=e.index,e.showPopup=!0}}},[e._v("удалить заметку")])])]),"note"==e.$route.name?o("div",{directives:[{name:"show",rawName:"v-show",value:e.showPopup,expression:"showPopup"}],staticClass:"pop-up"},[o("div",{staticClass:"pop-up__container"},[e._v("удалить?"),o("div",{staticClass:"pop-up__body"},[o("div",{staticClass:"btn delete",on:{click:function(t){e.noteDelete(e.toBeDeleted),e.showPopup=!1}}},[e._v("да")]),o("div",{staticClass:"btn",on:{click:function(t){e.showPopup=!1}}},[e._v("отмена")])])])]):e._e(),"note"==e.$route.name?o("div",{directives:[{name:"show",rawName:"v-show",value:e.showPopupR,expression:"showPopupR"}],staticClass:"pop-up"},[o("div",{staticClass:"pop-up__container"},[e._v("отменить редактирование?"),o("div",{staticClass:"pop-up__body"},[o("div",{staticClass:"btn delete",on:{click:function(t){e.showPopupR=!1,e.redacting=!e.redacting}}},[e._v("да")]),o("div",{staticClass:"btn",on:{click:function(t){e.showPopupR=!1}}},[e._v("отмена")])])])]):e._e()])};p._withStripped=!0;var v=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"todo__container",class:{checked:e.todo.checked}},[o("input",{directives:[{name:"model",rawName:"v-model:checked",value:e.todo.checked,expression:"todo.checked",arg:"checked"},{name:"show",rawName:"v-show",value:e.redacting,expression:"redacting"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.todo.checked)?e._i(e.todo.checked,null)>-1:e.todo.checked},on:{change:function(t){var o=e.todo.checked,n=t.target,s=!!n.checked;if(Array.isArray(o)){var i=e._i(o,null);n.checked?i<0&&e.$set(e.todo,"checked",o.concat([null])):i>-1&&e.$set(e.todo,"checked",o.slice(0,i).concat(o.slice(i+1)))}else e.$set(e.todo,"checked",s)}}}),o("div",{staticClass:"todo"},[o("div",{staticClass:"todo__text"},[e._v(e._s(e.todo.todo)),o("input",{directives:[{name:"show",rawName:"v-show",value:e.redacting,expression:"redacting"},{name:"model",rawName:"v-model:value",value:e.todo.todo,expression:"todo.todo",arg:"value"}],domProps:{value:e.todo.todo},on:{input:function(t){t.target.composing||e.$set(e.todo,"todo",t.target.value)}}}),o("div",{directives:[{name:"show",rawName:"v-show",value:e.redacting,expression:"redacting"}],staticClass:"delete btn",on:{click:e.deleteTask}},[e._v("удалить задачу")])])])])};v._withStripped=!0;var f={data:function(){return{}},props:["redacting","todo","index"],methods:{deleteTask:function(){this.$emit("deletetask",this.index)}}},h=(o(324),Object(c.a)(f,v,[],!1,null,"9329692a",null));function m(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function w(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?m(Object(o),!0).forEach((function(t){b(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):m(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function b(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}h.options.__file="app/vue/todo.vue";var g={name:"note",data:function(){return{toBeDeleted:null,showPopup:!1,showPopupR:!1,index:null,newTodo:{checked:!1,todo:""},redacting:!1,thisNote:null}},components:{todo:h.exports},props:["i"],computed:w({},Object(s.b)(["getNotes"])),methods:w(w({},Object(s.c)(["noteChanges","deleteNote"])),{},{noteDelete:function(e){this.deleteNote(e),this.$el.style.display="none",this.$root.$emit("deleted")},redact:function(){this.redacting?this.showPopupR=!0:this.redacting=!this.redacting},deleteTask:function(e){this.thisNote.toDos.splice(e,1)},cancel:function(){var e=this.thisNote,t=e.name,o=e.toDos;this.thisNote.modified=JSON.parse(JSON.stringify({name:t,toDos:o})),this.thisNote=w(w({},this.thisNote),this.thisNote.beforeModifying)},save:function(){var e=this.getNotes[this.index],t=e.name,o=e.toDos;this.thisNote.beforeModifying=JSON.parse(JSON.stringify({name:t,toDos:o}));var n=this.thisNote,s=n.name,i=n.toDos;this.thisNote.modified=JSON.parse(JSON.stringify({name:s,toDos:i})),this.noteChanges({index:this.index,note:JSON.parse(JSON.stringify(this.thisNote)),action:"save"}),this.thisNote=JSON.parse(JSON.stringify(this.getNotes[this.index]))},returnChanges:function(){this.thisNote=w(w({},this.thisNote),this.thisNote.modified)},addNewTodo:function(){this.newTodo.todo.trim()&&this.thisNote.toDos.push(JSON.parse(JSON.stringify(this.newTodo)))}}),created:function(){var e;if(this.index=null!==(e=null==this?void 0:this.i)&&void 0!==e?e:this.$route.params.index,this.thisNote=JSON.parse(JSON.stringify(this.getNotes[this.index])),!Object.keys(this.thisNote.beforeModifying).length){var t=this.thisNote,o=t.name,n=t.toDos;this.thisNote.beforeModifying=JSON.parse(JSON.stringify({name:o,toDos:n}))}}},N=(o(325),Object(c.a)(g,p,[],!1,null,"61e4dd17",null));N.options.__file="app/vue/note.vue";var _=N.exports;function O(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function y(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?O(Object(o),!0).forEach((function(t){k(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):O(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function k(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var j={data:function(){return{toBeDeleted:null,notes:null,showPopup:!1}},components:{note:_},computed:y({},Object(s.b)(["getNotes"])),methods:y({},Object(s.c)(["deleteNote"])),created:function(){this.notes=this.getNotes}},P=(o(326),Object(c.a)(j,u,[],!1,null,null,null));P.options.__file="app/vue/main.vue";var C=P.exports,x=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"create block"},[o("div",{staticClass:"container"},[o("input",{ref:"note",staticClass:"note",attrs:{placeholder:"имя заметки"},on:{change:function(t){return e.newNote_addName(t.target.value)}}}),o("input",{ref:"todo",staticClass:"todo",attrs:{placeholder:"наименование задачи"}}),o("div",{staticClass:"btn",on:{click:e.addTask}},[e._v("добавить задачу")]),o("div",{staticClass:"note__wrapper"},[o("div",{staticClass:"note__name"},[e._v(e._s(e.getNewNote.name)),o("div",{directives:[{name:"show",rawName:"v-show",value:e.getNewNote.name,expression:"getNewNote.name"}],staticClass:"btn delete",on:{click:e.newNote_deleteName}},[e._v("удалить")])]),o("div",{staticClass:"todo__list"},e._l(e.getNewNote.tasks,(function(e,t){return o("todo",{key:t,attrs:{task:e}})})),1),o("div",{staticClass:"note__add btn",on:{click:e.addThisNote}},[e._v("добавить заметку")])])])])};x._withStripped=!0;var S=o(67).a,D=(o(328),Object(c.a)(S,x,[],!1,null,"466089e1",null));D.options.__file="app/vue/create.vue";var $=D.exports;function T(e,t,o,n,s,i,r){try{var a=e[i](r),c=a.value}catch(e){return void o(e)}a.done?t(c):Promise.resolve(c).then(n,s)}function J(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function E(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}n.a.use(s.a),n.a.use(i.a);var q=new i.a({routes:[{path:"/create",component:$},{path:"/",component:C,name:"main"},{path:"/notes/:index",component:_,props:!0,name:"note"}]}),M=new s.a.Store({state:{newNote:{name:"",tasks:[]},notes:[{name:"test",toDos:[{checked:!1,todo:"test task"},{checked:!1,todo:"test task"},{checked:!1,todo:"test task"},{checked:!1,todo:"test taqqqqqqqqqqqqqqqsk #2"}],beforeModifying:{},modified:{}},null,{name:"test",toDos:[{checked:!1,todo:"test task"},{checked:!1,todo:"test task #2 test task #2"}],beforeModifying:{},modified:{}}]},mutations:{newNote_addName:function(e,t){e.newNote.name=t},newNote_deleteName:function(e){e.newNote.name=""},newNote_addTask:function(e,t){e.newNote.tasks.push({checked:!1,todo:t})},newNote_deleteTask:function(e,t){e.newNote.tasks.splice(t,1)},pushNewNote:function(e,t){e.notes.push(t)},resetNewNote:function(e){e.newNote.name="",e.newNote.tasks=[]},noteChanges:function(e,t){e.notes[t.index]=t.note,console.log(JSON.stringify(e.notes,null,2))},deleteNote:function(e,t){e.notes[t]=null},notesInitial:function(e){e.notes=e.notes.filter((function(e){return null!==e}))}},getters:{getNewNote:function(e){return e.newNote},getNotes:function(e){return e.notes}}});new n.a({el:".app",render:function(e){return e(d)},store:M,router:q,methods:function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?J(Object(o),!0).forEach((function(t){E(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):J(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}({},Object(s.c)(["notesInitial"])),created:function(){var e,t=this;return(e=regeneratorRuntime.mark((function e(){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.getItem("notes")&&(t.$store.state.notes=JSON.parse(localStorage.getItem("notes"))),t.notesInitial(),t.$on("deleted",(function(){t.notesInitial()})),o=t,window.onbeforeunload=function(e){localStorage.setItem("notes",JSON.stringify(o.$store.state.notes))};case 5:case"end":return e.stop()}}),e)})),function(){var t=this,o=arguments;return new Promise((function(n,s){var i=e.apply(t,o);function r(e){T(i,n,s,r,a,"next",e)}function a(e){T(i,n,s,r,a,"throw",e)}r(void 0)}))})()}})},63:function(e,t,o){},64:function(e,t,o){},65:function(e,t,o){},66:function(e,t,o){},67:function(e,t,o){"use strict";(function(e){var n=o(10),s=(o(99),o(134));function i(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function r(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?i(Object(o),!0).forEach((function(t){a(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):i(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function a(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}t.a={components:{todo:s.a},computed:r({},Object(n.b)(["getNewNote"])),methods:r(r({},Object(n.c)(["newNote_addTask","newNote_addName","newNote_deleteName","pushNewNote","resetNewNote"])),{},{addTask:function(){var t=e(this.$refs.todo).val();(t=e.trim(t))&&this.newNote_addTask(t)},addThisNote:function(){this.getNewNote.name&&this.getNewNote.tasks.length&&(this.pushNewNote({name:this.getNewNote.name,toDos:this.getNewNote.tasks,beforeModifying:{},modified:{}}),this.resetNewNote())}})}}).call(this,o(99))},68:function(e,t,o){},69:function(e,t,o){}});